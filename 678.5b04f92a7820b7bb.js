"use strict";(self.webpackChunktoggl_overhours=self.webpackChunktoggl_overhours||[]).push([[678],{5678:(S,h,l)=>{l.r(h),l.d(h,{FileHandle:()=>w,FolderHandle:()=>d,default:()=>H,setBlobImpl:()=>g,setFileImpl:()=>x});var r=l(5861),D=l(9671),m=(l(6420),l(4191)),M=l(6296),y=l(3754);let f=globalThis.File,O=globalThis.Blob;const x=o=>{f=o},g=o=>{O=o},{INVALID:b,GONE:s,MISMATCH:z,MOD_ERR:Z,SYNTAX:c,DISALLOWED:I}=y.errors;class A{constructor(e,t){this.fileHandle=e,this.file=t?e.file:new f([],e.file.name,e.file),this.size=t?e.file.size:0,this.position=0}write(e){var t=this;return(0,r.Z)(function*(){if(!t.fileHandle.file)throw new DOMException(...s);let n=t.file;if((0,y.isChunkObject)(e))if("write"===e.type){if("number"==typeof e.position&&e.position>=0&&(t.position=e.position,t.size<e.position&&(t.file=new f([t.file,new ArrayBuffer(e.position-t.size)],t.file.name,t.file))),!("data"in e))throw new DOMException(...c("write requires a data argument"));e=e.data}else{if("seek"===e.type){if(Number.isInteger(e.position)&&e.position>=0){if(t.size<e.position)throw new DOMException(...b);return void(t.position=e.position)}throw new DOMException(...c("seek requires a position argument"))}if("truncate"===e.type){if(Number.isInteger(e.size)&&e.size>=0)return n=new f(e.size<t.size?[n.slice(0,e.size)]:[n,new Uint8Array(e.size-t.size)],n.name,n),t.size=n.size,t.position>n.size&&(t.position=n.size),void(t.file=n);throw new DOMException(...c("truncate requires a size argument"))}}e=new O([e]);let i=t.file;const a=i.slice(0,t.position),u=i.slice(t.position+e.size);let p=t.position-a.size;p<0&&(p=0),i=new f([a,new Uint8Array(p),e,u],i.name),t.size=i.size,t.position+=e.size,t.file=i})()}close(){var e=this;return(0,r.Z)(function*(){if(!e.fileHandle.file)throw new DOMException(...s);e.fileHandle.file=e.file,e.file=e.position=e.size=null,e.fileHandle.onclose&&e.fileHandle.onclose(e.fileHandle)})()}}class w{constructor(e="",t=new f([],e),n=!0){this.kind="file",this.deleted=!1,this.file=t,this.name=e,this.writable=n}getFile(){var e=this;return(0,r.Z)(function*(){if(e.deleted||null===e.file)throw new DOMException(...s);return e.file})()}createWritable(e){var t=this;return(0,r.Z)(function*(){if(!t.writable)throw new DOMException(...I);if(t.deleted)throw new DOMException(...s);return new A(t,!!e?.keepExistingData)})()}isSameEntry(e){var t=this;return(0,r.Z)(function*(){return t===e})()}destroy(){this.deleted=!0,this.file=null}}class d{constructor(e,t=!0){this.kind="directory",this.deleted=!1,this._entries={},this.name=e,this.writable=t}entries(){var e=this;return(0,D.Z)(function*(){if(e.deleted)throw new DOMException(...s);yield*function v(o){var e={},t=!1;function n(i,a){return t=!0,a=new Promise(function(u){u(o[i](a))}),{done:!1,value:new m.Z(a,1)}}return e[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},e.next=function(i){return t?(t=!1,i):n("next",i)},"function"==typeof o.throw&&(e.throw=function(i){if(t)throw t=!1,i;return n("throw",i)}),"function"==typeof o.return&&(e.return=function(i){return t?(t=!1,i):n("return",i)}),e}((0,M.Z)(Object.entries(e._entries)))})()}isSameEntry(e){var t=this;return(0,r.Z)(function*(){return t===e})()}getDirectoryHandle(e,t={}){var n=this;return(0,r.Z)(function*(){if(n.deleted)throw new DOMException(...s);const i=n._entries[e];if(i){if(i instanceof w)throw new DOMException(...z);return i}if(t.create)return n._entries[e]=new d(e);throw new DOMException(...s)})()}getFileHandle(e,t={}){var n=this;return(0,r.Z)(function*(){const i=n._entries[e];if(i){if(i instanceof w)return i;throw new DOMException(...z)}if(t.create)return n._entries[e]=new w(e);throw new DOMException(...s)})()}removeEntry(e,t={}){var n=this;return(0,r.Z)(function*(){const i=n._entries[e];if(!i)throw new DOMException(...s);i.destroy(t.recursive),delete n._entries[e]})()}destroy(e){for(let t of Object.values(this._entries)){if(!e)throw new DOMException(...Z);t.destroy(e)}this._entries={},this.deleted=!0}}const F=new d(""),H=()=>F}}]);